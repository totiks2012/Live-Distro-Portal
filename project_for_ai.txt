============================================================
–ü–†–û–ï–ö–¢: PDL
–°–û–ó–î–ê–ù: 2026-01-21 18:50
============================================================

# –ò–°–¢–û–†–ò–Ø –ò –ü–†–ê–í–ò–õ–ê



–ò–°–¢–û–†–ò–Ø –†–ê–ó–†–ê–ë–û–¢–ö–ò
–ò–¢–ï–†–ê–¶–ò–ò –ò –í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´:


–ö–æ–Ω–µ—á–Ω–æ. –í–æ—Ç –∫—Ä–∞—Ç–∫–∞—è, –ø–æ—à–∞–≥–æ–≤–∞—è –∏—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è **LiveDistro Portal** ‚Äî –æ—Ç –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏.

---

### **–ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ LiveDistro Portal**

**1. –ò—Å—Ö–æ–¥–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ (2026-01-07)**  
–ü–æ—è–≤–∏–ª—Å—è –≤–æ–ø—Ä–æ—Å: –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–º–∏ —É—Ç–∏–ª–∏—Ç–∞–º–∏ –∏ —Å–ø—Ä–∞–≤–∫–æ–π –≤ live-–¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞—Ö? –•–æ—Ç–µ–ª–æ—Å—å –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ñ–æ–Ω–æ–º, –∏–∫–æ–Ω–∫–∞–º–∏ –∏ –∑–∞–ø—É—Å–∫–æ–º —á–µ—Ä–µ–∑ `.desktop`-—Ñ–∞–π–ª—ã.

**2. –ü–µ—Ä–≤—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø –Ω–∞ Eel**  
–°–æ–∑–¥–∞–Ω –±–∞–∑–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∏–π HTML –∏–∑ `Desktop/` –∏ `help_doc/`. –°—Ä–∞–∑—É –≤—ã—è–≤–∏–ª–∏—Å—å –ø—Ä–æ–±–ª–µ–º—ã:
- Eel —Ç—Ä–µ–±—É–µ—Ç Chrome/Chromium (–Ω–µ—Ç –≤ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö),
- –§–æ–Ω `wal.png` –Ω–µ –≥—Ä—É–∑–∏—Ç—Å—è –∏–∑-–∑–∞ `file://` vs `http://`,
- –ò–∫–æ–Ω–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è ‚Äî –ø–∞—Ä—Å–µ—Ä `.desktop` —Å–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç–æ–π.

**3. –£–ª—É—á—à–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞**  
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã—Ö –º–µ—Ç–æ–∫ (`Name[ru]=...`), –ø–æ–∏—Å–∫ –∏–∫–æ–Ω–æ–∫ –≤ `/usr/share/icons`, fallback –Ω–∞ —Å–∏–º–≤–æ–ª—ã –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ PNG.

**4. –ü—Ä–æ–±–ª–µ–º–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**  
–£—Ç–∏–ª–∏—Ç—ã –Ω–∞ Python —Å `gi` –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª–∏—Å—å —á–µ—Ä–µ–∑ `subprocess` ‚Üí `ModuleNotFoundError`.  
–†–µ—à–µ–Ω–∏–µ: –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `bash -l -c` —Å –ø–æ–ª–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º.

**5. –û—à–∏–±–∫–∞ 404 –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ Markdown**  
–ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å —Å–ø—Ä–∞–≤–∫—É —á–µ—Ä–µ–∑ URL `/render_md?path=...` –¥–∞–≤–∞–ª–∞ 404, —Ç–∞–∫ –∫–∞–∫ Eel –Ω–µ —Å–æ–∑–¥–∞—ë—Ç HTTP-—Ä–æ—É—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.  
–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ —Ä–µ—à–µ–Ω–æ –±—ã–ª–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ `.html`-—Ñ–∞–π–ª—ã.

**6. –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Ñ–æ–Ω–æ–≤**  
–§–æ–Ω –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `file://`, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ `http://`-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.  
–†–µ—à–µ–Ω–∏–µ: –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `wal.png` –≤ `web/` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/wal.png`.

**7. –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ñ–æ–Ω–∞ –≤ Markdown**  
–ü—Ä–∏ –±—ã—Å—Ç—Ä–æ–º –∫–ª–∏–∫–µ –ø–µ—Ä–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–ª—Å—è –±–µ–∑ —Ñ–æ–Ω–∞ ‚Äî race condition –º–µ–∂–¥—É –∑–∞–ø–∏—Å—å—é `wal.png` –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ–º HTML.  
–ü—Ä–æ–±–æ–≤–∞–ª–∏ base64, –æ–∂–∏–¥–∞–Ω–∏—è ‚Äî –Ω–æ —ç—Ç–æ —É—Å–ª–æ–∂–Ω—è–ª–æ –∫–æ–¥.

**8. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ HTTP-—Ä–æ—É—Ç—ã**  
–û—Å–æ–∑–Ω–∞–Ω–∏–µ: –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞–¥—ë–∂–Ω—ã–π —Å–ø–æ—Å–æ–± ‚Äî –æ—Ç–¥–∞–≤–∞—Ç—å Markdown —á–µ—Ä–µ–∑ HTTP-—Ä–æ—É—Ç `/render_md`, –∞ –Ω–µ —á–µ—Ä–µ–∑ `file://`.  
–≠—Ç–æ —É—Å—Ç—Ä–∞–Ω–∏–ª–æ –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é, —Ñ–æ–Ω–æ–º –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é.

**9. –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**  
–û—Ç–∫–∞–∑ –æ—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ `.desktop` –≤ –ø–æ–ª—å–∑—É –ø—Ä–æ—Å—Ç–æ–≥–æ `ldp.conf` ‚Äî —Ç—Ä–∏ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ —É—Ç–∏–ª–∏—Ç—É: –∏–º—è, –∫–æ–º–∞–Ω–¥–∞, –ø—É—Ç—å –∫ –∏–∫–æ–Ω–∫–µ.  
–î–∞—ë—Ç –¥–∏—Å—Ç—Ä–æ—Å—Ç—Ä–æ–∏—Ç–µ–ª—é –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É.

**10. –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è**  
- –ï–¥–∏–Ω—ã–π HTTP-–∫–æ–Ω—Ç–µ–∫—Å—Ç,
- –ù–∞–¥—ë–∂–Ω—ã–π —Ñ–æ–Ω,
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫,
- –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞,
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

---

–°–µ–≥–æ–¥–Ω—è **LiveDistro Portal** ‚Äî —ç—Ç–æ –ª—ë–≥–∫–∏–π, —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —Ä–µ—à–∞—é—â–∏–π –æ–¥–Ω—É –∑–∞–¥–∞—á—É: **—Å–¥–µ–ª–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ live-–¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞ –≤–∏–¥–∏–º—ã–º–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏**.

============================================================
–ü–ï–†–í–´–ô –°–ù–ò–ú–û–ö
============================================================

***
--- main-09.py ---
import os
import glob
import eel
import markdown
import shutil
from pathlib import Path

# === Bottle –¥–ª—è HTTP-—Ä–æ—É—Ç–æ–≤ ===
from bottle import route, response, request

# === –ü—É—Ç–∏ ===
SCRIPT_DIR = Path(__file__).resolve().parent
HELP_DOC_DIR = SCRIPT_DIR / "help_doc"
WAL_SRC = SCRIPT_DIR / "Wal" / "wal.png"
WEB_DIR = SCRIPT_DIR / "web"
ICONS_DIR = WEB_DIR / "icons"

WEB_DIR.mkdir(exist_ok=True)
ICONS_DIR.mkdir(exist_ok=True)

# === –ö–æ–ø–∏—Ä—É–µ–º wal.png –≤ web/ –û–î–ò–ù –†–ê–ó ===
WAL_WEB = WEB_DIR / "wal.png"
if WAL_SRC.exists() and not WAL_WEB.exists():
    WAL_WEB.write_bytes(WAL_SRC.read_bytes())

# –ò—Å–ø–æ–ª—å–∑—É–µ–º /wal.png –¥–ª—è –≤—Å–µ–≥–æ
wal_url_http = "/wal.png" if WAL_WEB.exists() else ""

def copy_icon_to_web(icon_src_path: Path) -> str:
    if not icon_src_path.exists():
        return "/icons/fallback.png"
    safe_name = "".join(c if c.isalnum() or c in "._-" else "_" for c in icon_src_path.name)
    target = ICONS_DIR / safe_name
    try:
        if not target.exists() or target.stat().st_mtime < icon_src_path.stat().st_mtime:
            shutil.copy2(icon_src_path, target)
        return f"/icons/{safe_name}"
    except Exception:
        return "/icons/fallback.png"

def create_fallback_icon():
    fallback = ICONS_DIR / "fallback.png"
    if not fallback.exists():
        import base64
        data = base64.b64decode("iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP4/5+hHgAHggJ/PchI7wAAAABJRU5ErkJggg==")
        fallback.write_bytes(data)

def parse_ldp_conf():
    conf_path = SCRIPT_DIR / "ldp.conf"
    if not conf_path.exists():
        return []
    try:
        content = conf_path.read_text(encoding='utf-8').strip()
    except Exception:
        return []
    entries = []
    blocks = [block.strip() for block in content.split('***') if block.strip()]
    for block in blocks:
        lines = [line.strip() for line in block.split('\n') if line.strip()]
        if len(lines) >= 3:
            name = lines[0]
            exec_cmd = lines[1]
            icon_path_str = lines[2]
            icon_src = Path(icon_path_str)
            icon_url = copy_icon_to_web(icon_src)
            entries.append({
                'name': name,
                'exec': exec_cmd,
                'icon': icon_url
            })
    return entries

def get_markdown_files():
    docs = []
    for md_path in glob.glob(str(HELP_DOC_DIR / "*.md")):
        name = Path(md_path).stem
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –æ—Ç HELP_DOC_DIR
        rel_path = md_path[len(str(HELP_DOC_DIR)) + 1:]
        docs.append({"name": name, "path": rel_path})
    return docs

def generate_index_html():
    apps = parse_ldp_conf()
    docs = get_markdown_files()
    bg_style = f"background-image: url('{wal_url_http}'); background-size: cover; background-attachment: fixed;" if wal_url_http else ""

    html_content = f"""<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LiveDistro Portal</title>
    <style>
        body {{
            margin: 0;
            padding: 0;
            min-height: 100vh;
            {bg_style}
            font-family: sans-serif;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }}
        .container {{
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }}
        header {{
            text-align: center;
            margin-bottom: 20px;
        }}
        h1 {{
            margin: 0;
            font-size: 2.2em;
        }}
        .tabs {{
            display: flex;
            justify-content: center;
            gap: 2px;
            margin-bottom: 25px;
        }}
        .tab {{
            padding: 10px 24px;
            cursor: pointer;
            background: rgba(0,0,0,0.3);
            border: none;
            color: white;
            font-weight: bold;
        }}
        .tab.active {{
            background: rgba(60,120,255,0.4);
            border-radius: 6px 6px 0 0;
        }}
        .tab-content {{
            display: none;
            padding: 25px;
            border-radius: 12px;
            background: rgba(0, 0, 0, 0.25);
        }}
        .tab-content.active {{
            display: block;
        }}
        .grid {{
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
            gap: 22px;
            justify-items: center;
        }}
        .shortcut {{
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100px;
            cursor: pointer;
        }}
        .shortcut-icon {{
            width: 64px;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            border-radius: 12px;
            margin-bottom: 8px;
            background: rgba(255,255,255,0.15);
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
        }}
        .shortcut-icon img {{
            width: 100%;
            height: 100%;
            object-fit: contain;
        }}
        .shortcut-label {{
            text-align: center;
            font-size: 12px;
            line-height: 1.3;
            max-width: 100px;
            overflow: hidden;
            text-overflow: ellipsis;
        }}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ LiveDistro Portal</h1>
        </header>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('apps')">–£—Ç–∏–ª–∏—Ç—ã</button>
            <button class="tab" onclick="switchTab('docs')">–°–ø—Ä–∞–≤–∫–∞</button>
        </div>

        <div id="apps" class="tab-content active">
            <div class="grid">
"""

    if apps:
        for app in apps:
            icon_url = app['icon']
            icon_html = f'<img src="{icon_url}" style="width:100%;height:100%;object-fit:contain;" loading="lazy">'
            html_content += f'''
                <div class="shortcut" onclick="launchApp(`{app['exec']}`)">
                    <div class="shortcut-icon">{icon_html}</div>
                    <div class="shortcut-label">{app['name']}</div>
                </div>
'''
    else:
        html_content += '<p style="text-align:center;">–ù–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (—Å–æ–∑–¥–∞–π—Ç–µ ldp.conf)</p>'

    html_content += """
            </div>
        </div>

        <div id="docs" class="tab-content">
            <div class="grid">
"""

    if docs:
        for doc in docs:
            html_content += f'''
                <div class="shortcut" onclick="openDoc(`{doc['path']}`)">
                    <div class="shortcut-icon">üìò</div>
                    <div class="shortcut-label">{doc['name']}</div>
                </div>
'''
    else:
        html_content += '<p style="text-align:center;">–ù–µ—Ç —Å–ø—Ä–∞–≤–∫–∏</p>'

    html_content += """
            </div>
        </div>
    </div>

    <script type="text/javascript" src="/eel.js"></script>
    <script>
        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
        }

        async function launchApp(cmd) {
            try {
                await eel.run_command(cmd)();
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞: ' + e);
            }
        }

        function openDoc(relPath) {
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ HTTP-—Ä–æ—É—Ç
            window.open('/render_md?path=' + encodeURIComponent(relPath), '_blank', 'width=900,height=700');
        }
    </script>
</body>
</html>
"""
    (WEB_DIR / "index.html").write_text(html_content, encoding='utf-8')

# === HTTP-–†–û–£–¢ –î–õ–Ø MARKDOWN ===
@route('/render_md')
def http_render_md():
    path = request.query.path
    if not path:
        response.status = 400
        return "<h2>–ü—É—Ç—å –Ω–µ —É–∫–∞–∑–∞–Ω</h2>"
    
    # –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø—É—Ç–∏
    full_path = (HELP_DOC_DIR / path).resolve()
    if not str(full_path).startswith(str(HELP_DOC_DIR.resolve())):
        response.status = 403
        return "<h2>–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω</h2>"
    if not full_path.exists():
        response.status = 404
        return "<h2>–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω</h2>"
    
    try:
        md_text = full_path.read_text(encoding='utf-8')
        html_body = markdown.markdown(md_text)
    except Exception as e:
        html_body = f"<h2>–û—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∞: {e}</h2>"

    bg_style = f"background-image: url('{wal_url_http}'); background-size: cover; background-attachment: fixed;" if wal_url_http else ""
    response.content_type = 'text/html; charset=utf-8'
    return f"""<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <style>
        body {{
            margin: 0;
            padding: 20px;
            {bg_style}
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
            font-family: sans-serif;
        }}
        .content {{
            max-width: 800px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.25);
            padding: 25px;
            border-radius: 12px;
        }}
        a {{ color: #bbf; }}
        pre, code {{
            background: rgba(0,0,0,0.4);
            padding: 8px;
            border-radius: 5px;
            overflow-x: auto;
        }}
        img {{ max-width: 100%; height: auto; }}
    </style>
</head>
<body>
    <div class="content">
        {html_body}
    </div>
</body>
</html>
"""

# === Eel API ===
@eel.expose
def run_command(cmd):
    import subprocess
    import os
    try:
        env = os.environ.copy()
        if 'DISPLAY' not in env:
            env['DISPLAY'] = ':0'
        safe_cmd = cmd.replace("'", "'\"'\"'")
        full_cmd = f"bash -l -c '{safe_cmd}'"
        subprocess.Popen(
            full_cmd,
            shell=True,
            env=env,
            stdout=subprocess.DEVNULL,
            stderr=subprocess.DEVNULL,
            preexec_fn=os.setpgrp
        )
        return True
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞: {e}")
        return False

# === –ó–∞–ø—É—Å–∫ ===
if __name__ == "__main__":
    create_fallback_icon()
    generate_index_html()
    eel.init("web")

    import eel.browsers
    eel.browsers.open = lambda urls, args: None

    PORT = 8080
    import webbrowser
    import threading
    import time

    def open_browser():
        time.sleep(1.5)
        webbrowser.open(f'http://localhost:{PORT}/index.html')

    threading.Thread(target=open_browser, daemon=True).start()

    print(f"\n‚úÖ LiveDistro Portal –∑–∞–ø—É—â–µ–Ω!")
    print(f"   –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:{PORT}/index.html")
    eel.start("index.html", size=(940, 700), port=PORT)

====================

--- run-portal-01.sh ---
#!/bin/bash

set -e  # –ü—Ä–µ—Ä—ã–≤–∞—Ç—å –ø—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PY_SCRIPT="$SCRIPT_DIR/main-09.py"
VENV_DIR="$SCRIPT_DIR/myenv"

# === 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Python 3 –∏ pip ===
if ! command -v python3 &> /dev/null; then
    echo "‚ùå Python3 –Ω–µ –Ω–∞–π–¥–µ–Ω. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é..."
    sudo apt update
    sudo apt install -y python3 python3-pip
fi

if ! command -v pip3 &> /dev/null; then
    echo "‚ùå pip3 –Ω–µ –Ω–∞–π–¥–µ–Ω. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é..."
    sudo apt update
    sudo apt install -y python3-pip
fi

# === 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ) ===
if [ ! -d "$VENV_DIR" ]; then
    echo "üìÅ –°–æ–∑–¥–∞—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ: $VENV_DIR"
    python3 -m venv "$VENV_DIR"
fi

# === 3. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ===
echo "üêç –ê–∫—Ç–∏–≤–∏—Ä—É—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ..."
source "$VENV_DIR/bin/activate"

# –ü—Ä–æ–≤–µ—Ä–∏–º, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ª–∏ eel –∏ markdown
if ! python3 -c "import eel, markdown" &> /dev/null; then
    echo "üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: eel, markdown..."
    pip3 install --no-cache-dir --upgrade pip
    pip3 install --no-cache-dir eel markdown
else
    echo "‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã."
fi

# === 4. –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ ===
if [ -f "$PY_SCRIPT" ]; then
    echo "üöÄ –ó–∞–ø—É—Å–∫–∞—é LiveDistro Portal..."
    python3 "$PY_SCRIPT"
else
    echo "‚ùå –û—à–∏–±–∫–∞: –Ω–µ –Ω–∞–π–¥–µ–Ω —Å–∫—Ä–∏–ø—Ç $PY_SCRIPT"
    exit 1
fi
***

============================================================
üìä –§–ê–ô–õ–û–í –í–ö–õ–Æ–ß–ï–ù–û: 0
üïê 2026-01-21 18:50
============================================================

üìä –§–ê–ô–õ–û–í –í–ö–õ–Æ–ß–ï–ù–û: 2
üîÑ –°—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π –ø—Ä–æ–ø—É—â–µ–Ω–æ: 0
üïê 2026-01-21 18:54
============================================================